<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Security Issues - Developer Guide</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <link href="../css/extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Opencast Security Issue Process", url: "#_top", children: [
              {title: "For Users and Administrators", url: "#for-users-and-administrators" },
              {title: "What to do if you find a security issue", url: "#what-to-do-if-you-find-a-security-issue" },
              {title: "What to do once you have reported your security issue", url: "#what-to-do-once-you-have-reported-your-security-issue" },
              {title: "What happens once the issue has been fixed?", url: "#what-happens-once-the-issue-has-been-fixed" },
              {title: "For Committers", url: "#for-committers" },
              {title: "What to do with a security report", url: "#what-to-do-with-a-security-report" },
              {title: "Where do we review security patches?", url: "#where-do-we-review-security-patches" },
              {title: "Once a security issue has been resolved", url: "#once-a-security-issue-has-been-resolved" },
          ]},
        ];

    </script>
    <script src="../js/base.js"></script>
      <script src="../javascript/extra.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../code-style/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../code-style/" class="btn btn-xs btn-link">
        Code Style
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../qa-coordinator/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../qa-coordinator/" class="btn btn-xs btn-link">
        QA Coordinator
      </a>
    </div>
    
  </div>

    

    <h1 id="opencast-security-issue-process">Opencast Security Issue Process</h1>
<p>This document summarizes how issues are reported, who is responsible for what actions, and how things are handled
internally. The instructions here should be considered the <em>minimum</em>, and further/faster responses are certainly
possible depending on the severity and type of issue.</p>
<hr />
<h2 id="for-users-and-administrators">For Users and Administrators</h2>
<h2 id="what-to-do-if-you-find-a-security-issue">What to do if you find a security issue</h2>
<p>Report it to <code>security@opencast.org</code>! Please include a complete description of the issue, including which version(s) it
affects, as well as any steps required to reproduce it. This email will be sent privately to the full list of
committers for the project. You should receive an email acknowledging the issue from the QA coordinator, or release
manager(s) within 3 business days. At this point, depending on the issue, you may be asked for your Attlassian and GitHub
logins. It is enouraged to have one, since internal discussion on JIRA will be restricted to committers and the
reporter. Likewise, all code reviews will be done on in an internal GitHub repository.</p>
<h2 id="what-to-do-once-you-have-reported-your-security-issue">What to do once you have reported your security issue</h2>
<p>Wait, and/or help fix the issue. The committers will work to find a mitigation for the immediate case, and a proper
solution for the long term. This may take a while, please be patient. It may also require you to test it if the issue
is derived from a complex system that most committers would not necessarily have access to (e.g: your LDAP or LTI
servers).</p>
<h2 id="what-happens-once-the-issue-has-been-fixed">What happens once the issue has been fixed?</h2>
<p>A notice to <code>security-notices@opencast.org</code> will be released once the issue has been resolved and proper patches applied
to the codebase. This notice may be accompanied by a release, or instructions on how to patch a live system depending
on the issue.</p>
<hr />
<h2 id="for-committers">For Committers</h2>
<h2 id="what-to-do-with-a-security-report">What to do with a security report</h2>
<p>If no one else has, <a href="https://github.com/opencast/opencast/security/advisories">draft a new security advisory on GitHub</a>
and reply on <code>security@opencast.org</code> with a link to the draft.  Thus far, most of our security issues have come with
patches attached, however this will not always be true. Depending on the issue and severity, the QA coordinator and/or
release manager(s) may apply for a Common Vulnerability and Exposures (CVE) number as well.</p>
<h2 id="where-do-we-review-security-patches">Where do we review security patches?</h2>
<p>Minor patches can be reviewed on an adhoc basis but larger patches, especially those requring collaboration in private,
or extensive comment and review, can use the opencast-security repository under the opencast-community account. Note
that this repository is private to committers, and reporters. Add the security repository to your remotes with this
command:</p>
<pre><code class="no-highlight">git remote add security git@bitbucket.org:opencast-community/opencast-security.git
</code></pre>

<p>Then create your branch locally. When the branch is ready to be pushed to the security repo do something like this:</p>
<pre><code class="no-highlight">git push security &lt;your branch name&gt;
</code></pre>

<p>You can then create your branch like you normally would, pushing it to security rather than your own repository.</p>
<h2 id="once-a-security-issue-has-been-resolved">Once a security issue has been resolved</h2>
<p>Once a security issue has been resolved, the QA coordinator, and/or the release manager(s) affected will work together
to ensure that any relevant release(s) are created and available, and then release the security notice. This notice must
contain the CVE (if applicable) as well as the affected version(s) of Opencast, a description of the issue,
mitigation/upgrade instructions, as well as credit to the reporter(s) of the issue. As an example, this is a good
notice:</p>
<pre><code class="no-highlight">Hello,
this is the official security notice regarding a security issue
recently discovered in Opencast.

Description:

   The Solr index for the search service (back-end e.g. for player and
   media module) in some cases returns results that should not be
   available to the current user.


Affects:

   This issue affects all recent versions of Opencast.


Details:

   Solr in some cases returned results that should not be available to
   the current user. For example, if `UserX` has the role `ROLE_USER`
   and a video should only be available for `ROLE_USER_ADMIN`, `UserX`
   can still access it.

   This may happen only if the second role starts with the complete
   first role. If the rules do not overlap, there should be no problem.


Patching the system:

   Patches for this issue are included in Opencast 2.2.4 and 2.3.0.
   A patch can also be found at
   https://bitbucket.org/opencast-community/opencast/pull-requests/1236


Credits:

  Thanks to Matthias Neugebauer from the University of MÃ¼nster for
  finding, reporting and fixing the issue.


Best regards,
Lars Kiesow
</code></pre>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../code-style/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../code-style/" class="btn btn-xs btn-link">
        Code Style
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../qa-coordinator/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../qa-coordinator/" class="btn btn-xs btn-link">
        QA Coordinator
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
      <p>
        <a href="https://github.com/opencast/opencast/edit/develop/docs/guides/developer/docs/security.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>