<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Role Based Event Access - Administration Guide</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <link href="../../css/extra.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Episode ID roles", url: "#_top", children: [
              {title: "Setup", url: "#setup" },
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script>
      <script src="../../javascript/extra.js"></script>
      <script src="../../javascript/popper.js"></script>
      <script src="../../javascript/tippy.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../searchindex/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../searchindex/" class="btn btn-xs btn-link">
        Overview
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../plugin-management/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../plugin-management/" class="btn btn-xs btn-link">
        Plugin Management
      </a>
    </div>
    
  </div>

    

    <h1 id="episode-id-roles">Episode ID roles</h1>
<p>If activated, users with a role like <code>ROLE_EPISODE_&lt;ID&gt;_&lt;ACTION&gt;</code> will have access to the episode with the given
identifier, without this having to be explicitly stated in the ACL attached to the episode.</p>
<p>For example, <code>ROLE_EPISODE_872dc4ec-ca8a-4e12-8dac-ce99784d6d29_READ</code> will allow the user to get read access to
episode <code>872dc4ec-ca8a-4e12-8dac-ce99784d6d29</code>.</p>
<p>The <code>&lt;ACTION&gt;</code> will be capitalized, but special characters may not be converted to <code>_</code>, e.g. <code>ANNOTATE-ADMIN</code>.</p>
<h2 id="setup">Setup</h2>
<p>Enable <code>episode.id.role.access</code> in <code>etc/custom.properties</code>.</p>
<p>To make this work for the Admin UI and External API, the Elasticsearch Index needs to be updated with modified
ACLs. You can achieve this by calling the <code>/index/rebuild/AssetManager/ACL</code> endpoint <strong>after</strong> enabling this feature
in the aforementioned configuration files.
The endpoint will reindex only event ACLs.</p>
<p>In case you have custom actions configured, this will only work for the actions that were configured during the
reindex of the Elasticsearch index. If you later add custom actions, you will have to reindex again.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../searchindex/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../searchindex/" class="btn btn-xs btn-link">
        Overview
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../plugin-management/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../plugin-management/" class="btn btn-xs btn-link">
        Plugin Management
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
      <p>
        <a href="https://github.com/opencast/opencast/edit/develop/docs/guides/admin/docs/configuration/episode-id-roles.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>