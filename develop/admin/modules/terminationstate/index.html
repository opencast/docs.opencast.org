<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="../../img/favicon.ico" rel="shortcut icon"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<title>Basic - Administration Guide</title>
<link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet"/>
<link href="../../css/font-awesome-4.7.0.css" rel="stylesheet"/>
<link href="../../css/base.css" rel="stylesheet"/>
<link href="../../css/highlight.css" rel="stylesheet"/>
<link href="../../css/extra.css" rel="stylesheet"/>
<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
<script src="../../js/jquery-3.2.1.min.js"></script>
<script src="../../js/bootstrap-3.3.7.min.js"></script>
<script src="../../js/highlight.pack.js"></script>
<base target="_top"/>
<script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Termination State Service", url: "#_top", children: [
              {title: "Opencast Service Configuration", url: "#opencast-service-configuration" },
          ]},
        ];

    </script>
<script src="../../js/base.js"></script>
<script src="../../javascript/extra.js"></script>
</meta></head>
<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>
<div class="container-fluid wm-page-content">
<a name="_top"></a>
<div aria-label="navigation" class="row wm-article-nav-buttons" role="navigation">
<div class="wm-article-nav pull-right">
<a class="btn btn-xs btn-default pull-right" href="../terminationstate.aws.autoscaling/">
        Next
        <i aria-hidden="true" class="fa fa-chevron-right"></i>
</a>
<a class="btn btn-xs btn-link" href="../terminationstate.aws.autoscaling/">
        AWS AutoScaling
      </a>
</div>
<div class="wm-article-nav">
<a class="btn btn-xs btn-default pull-left" href="../studio/">
<i aria-hidden="true" class="fa fa-chevron-left"></i>
        Previous</a><a class="btn btn-xs btn-link" href="../studio/">
        Studio
      </a>
</div>
</div>
<h1 id="termination-state-service">Termination State Service</h1>
<p>This page documents the configuration for Opencast module <strong>terminationstate-impl</strong>.</p>
<p>This module is provided as a convenience when you wish to terminate the Opencast process
or the machine it is running on, when Opencast may still be processing jobs you want to complete.
 It also forms the basis for more sophisticated services that assist the dynamic
scaling of nodes in cloud environments, see <a href="../terminationstate.aws.autoscaling/">AWS AutoScaling: Termination State Service</a></p>
<p><strong>It does not terminate the Opencast process or the instance itself</strong>.</p>
<p>The default termination state is "none". If the termination state is set to "wait" it will:</p>
<ul>
<li>put the node in maintenance mode, to stop accepting new jobs</li>
<li>periodically check for running jobs</li>
<li>when no jobs are running it will set the termination state to "ready"</li>
</ul>
<p>The termination state can then be monitored and the action completed when the state
is changes from "wait" to "ready".</p>
<h2 id="opencast-service-configuration">Opencast Service Configuration</h2>
<p>The Opencast Termination State Service configuration can be found in the file
<code>org.opencastproject.terminationstate.impl.TerminationStateServiceImpl.cfg</code>.</p>
<table>
<thead>
<tr>
<th>Key name</th>
<th>Value</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>job.polling.period</td>
<td>frequency which to check if jobs are running in seconds</td>
<td>300</td>
</tr>
</tbody>
</table>
<br/>
<div aria-label="navigation" class="row wm-article-nav-buttons" role="navigation">
<div class="wm-article-nav pull-right">
<a class="btn btn-xs btn-default pull-right" href="../terminationstate.aws.autoscaling/">
        Next
        <i aria-hidden="true" class="fa fa-chevron-right"></i>
</a>
<a class="btn btn-xs btn-link" href="../terminationstate.aws.autoscaling/">
        AWS AutoScaling
      </a>
</div>
<div class="wm-article-nav">
<a class="btn btn-xs btn-default pull-left" href="../studio/">
<i aria-hidden="true" class="fa fa-chevron-left"></i>
        Previous</a><a class="btn btn-xs btn-link" href="../studio/">
        Studio
      </a>
</div>
</div>
<br/>
</div>
<footer class="container-fluid wm-page-content">
<p>
<a href="https://github.com/opencast/opencast/edit/develop/docs/guides/admin/docs/modules/terminationstate.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
</p>
<p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>
</body>
</html>